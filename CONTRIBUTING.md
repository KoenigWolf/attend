# コントリビューションガイド

このプロジェクトへのコントリビューションを歓迎します！このドキュメントは、開発に参加するためのガイドラインを提供します。

## 目次

- [行動規範](#行動規範)
- [開発環境のセットアップ](#開発環境のセットアップ)
- [開発フロー](#開発フロー)
- [コーディング規約](#コーディング規約)
- [コミットメッセージ](#コミットメッセージ)
- [プルリクエスト](#プルリクエスト)
- [イシューの報告](#イシューの報告)

## 行動規範

- 尊重と礼儀を保つ
- 建設的なフィードバックを提供する
- 多様な意見を歓迎する

## 開発環境のセットアップ

### 1. リポジトリのクローン

```bash
git clone <repository-url>
cd Attendance
```

### 2. 依存関係のインストール

```bash
npm install
```

### 3. 開発サーバーの起動

```bash
npm run dev
```

### 4. リントの実行

```bash
npm run lint
```

## 開発フロー

### ブランチ戦略

1. **main**: 本番環境用ブランチ（保護）
2. **develop**: 開発用ブランチ（推奨）
3. **feature/\***: 機能追加用ブランチ
4. **fix/\***: バグ修正用ブランチ
5. **docs/\***: ドキュメント更新用ブランチ

### 作業の流れ

1. **最新のコードを取得**

   ```bash
   git checkout develop
   git pull origin develop
   ```

2. **新しいブランチを作成**

   ```bash
   git checkout -b feature/your-feature-name
   # または
   git checkout -b fix/your-fix-name
   ```

3. **変更を実装**

   - コードを書く
   - リントを実行して確認
   - 動作確認

4. **変更をコミット**

   ```bash
   git add .
   git commit -m "feat: 機能の説明"
   ```

5. **プッシュ**

   ```bash
   git push origin feature/your-feature-name
   ```

6. **プルリクエストを作成**
   - GitHub/GitLab でプルリクエストを作成
   - `develop`ブランチに向ける

## コーディング規約

### TypeScript

- **strict mode**: 有効化されている
- **型定義**: すべての関数とコンポーネントに型を定義
- **any 型**: 使用を避ける

### 命名規則

- **コンポーネント**: PascalCase (`AttendanceButton`)
- **関数**: camelCase (`getCurrentTime`)
- **型・インターフェース**: PascalCase (`AttendanceRecord`)
- **定数**: UPPER_SNAKE_CASE (`STORAGE_KEY`)
- **ファイル名**: PascalCase for components, camelCase for utilities

### コンポーネント構造

```typescript
'use client'  // 必要に応じて

import { ... } from '...'

interface ComponentProps {
  // Propsの型定義
}

export default function Component({ ... }: ComponentProps) {
  // 実装
  return (
    // JSX
  )
}
```

### スタイリング

- **Tailwind CSS**: すべてのスタイリングに使用
- **レスポンシブデザイン**: モバイルファースト
- **デザインシステム**: [DESIGN_GUIDE.md](./DESIGN_GUIDE.md) に準拠

### エラーハンドリング

```typescript
// 早期リターン
if (!data) return null;

// try-catch
try {
  // 処理
} catch (e) {
  console.error("Error:", e);
  // フォールバック処理
}
```

## コミットメッセージ

### 形式

```
<type>: <subject>

<body> (オプション)

<footer> (オプション)
```

### タイプ

- `feat`: 新機能の追加
- `fix`: バグ修正
- `docs`: ドキュメント更新
- `style`: コードスタイルの変更（フォーマット、セミコロン等）
- `refactor`: リファクタリング
- `perf`: パフォーマンス改善
- `test`: テストの追加・修正
- `chore`: その他の変更（ビルド設定等）

### 例

```
feat: データエクスポート機能を追加

ユーザーが勤務記録をJSON形式でエクスポートできるようにしました。
```

```
fix: 日付を跨ぐ勤務時間の計算を修正

退勤時刻が翌日になる場合の計算ロジックを修正しました。
```

## プルリクエスト

### 作成前のチェックリスト

- [ ] コードがリントエラーなく通る
- [ ] 既存のテストが通る（テストがある場合）
- [ ] 新しい機能にドキュメントを追加した
- [ ] コミットメッセージが適切
- [ ] 変更が[design-guide.md](./docs/design-guide.md)に準拠している

### プルリクエストの説明

以下の情報を含めてください：

1. **変更の概要**: 何を変更したか
2. **変更の理由**: なぜ変更したか
3. **テスト方法**: どのようにテストしたか
4. **スクリーンショット**: UI 変更がある場合

### レビュープロセス

1. 自動チェック（リント、ビルド）
2. コードレビュー
3. 承認
4. マージ

## イシューの報告

### バグレポート

以下の情報を含めてください：

1. **バグの説明**: 何が起こったか
2. **再現手順**: どのように再現できるか
3. **期待される動作**: どうなるべきか
4. **実際の動作**: 実際にどうなったか
5. **環境**: ブラウザ、OS、バージョン
6. **スクリーンショット**: 可能であれば

### 機能リクエスト

以下の情報を含めてください：

1. **機能の説明**: どのような機能が必要か
2. **使用例**: どのように使うか
3. **理由**: なぜこの機能が必要か

## ドキュメント

### ドキュメントの更新

- 新しい機能を追加した場合、関連ドキュメントを更新
- コードの変更が API に影響する場合、[code-structure.md](./docs/code-structure.md)を更新
- アーキテクチャの変更がある場合、[architecture.md](./docs/architecture.md)を更新

### ドキュメントの構造

- **README.md**: プロジェクトの概要とセットアップ
- **docs/architecture.md**: アーキテクチャの説明
- **docs/code-structure.md**: コード構造の説明
- **docs/ai-development-guide.md**: AI 開発ガイド
- **docs/design-guide.md**: デザインガイドライン
- **docs/improvements.md**: 改善点リスト
- **CONTRIBUTING.md**: このファイル

## テスト

### テストの追加（将来）

テストを追加する場合は：

1. **ユニットテスト**: ユーティリティ関数
2. **コンポーネントテスト**: React コンポーネント
3. **統合テスト**: 機能全体

### テストの実行

```bash
npm test  # 将来実装予定
```

## デザイン

### デザインガイドライン

すべての UI 変更は [design-guide.md](./docs/design-guide.md) に準拠する必要があります。

### デザインの確認

- カラーパレットに準拠しているか
- スペーシングが適切か
- レスポンシブデザインを考慮しているか
- アクセシビリティを考慮しているか

## リリース

### リリースプロセス（将来）

1. バージョン番号の更新
2. CHANGELOG の更新
3. タグの作成
4. リリースノートの作成

## 質問

質問がある場合は：

1. 既存のイシューを確認
2. 新しいイシューを作成
3. ドキュメントを確認

## 謝辞

コントリビューションをありがとうございます！あなたの貢献がこのプロジェクトをより良くします。
